<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dark Pac-Man: Nightmare Edition 3D</title>
<style>
body, html { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#020308; color:#fff; font-family:sans-serif;}
canvas { display:block; margin:0 auto; background: #07121a; }
#joystick { position:absolute; left:20px; bottom:20px; width:120px; height:120px; border-radius:50%; background: rgba(255,255,255,0.05); touch-action:none;}
#knob { width:50px; height:50px; border-radius:50%; background: rgba(255,255,255,0.1); position:relative; left:35px; top:35px;}
#menu { position:absolute; right:20px; top:20px; background: rgba(0,0,0,0.7); padding:10px; border-radius:10px;}
button { margin:4px; padding:6px 10px; border:none; border-radius:6px; background:#333; color:#fff; cursor:pointer;}
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>
<div id="joystick"><div id="knob"></div></div>
<div id="menu">
<h3>Dark Pac-Man 3D</h3>
<div>Πίστες:<br>
<button data-map="1">A</button>
<button data-map="2">B</button>
<button data-map="3">C</button>
</div>
<div>Δυσκολία:<br>
<button data-diff="easy">Εύκολο</button>
<button data-diff="normal">Κανονικό</button>
<button data-diff="hard">Δύσκολο</button>
</div>
<button id="startBtn">Start</button>
</div>
<script>
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

// Placeholder 3D effect Pac-Man
function drawPacman(x,y,r){
    ctx.save();
    let gradient=ctx.createRadialGradient(x,y,r*0.2,x,y,r);
    gradient.addColorStop(0,'#ffd400');
    gradient.addColorStop(1,'#ffaa00');
    ctx.fillStyle=gradient;
    ctx.beginPath();
    ctx.arc(x,y,r,0.25*Math.PI,1.75*Math.PI);
    ctx.lineTo(x,y);
    ctx.closePath();
    ctx.fill();
    ctx.restore();
}

let pacX=canvas.width/2, pacY=canvas.height/2, radius=30;
function loop(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawPacman(pacX,pacY,radius);
    requestAnimationFrame(loop);
}
loop();

// Basic joystick functionality
const joystick=document.getElementById('joystick');
const knob=document.getElementById('knob');
let dragging=false, startX=0, startY=0;
let dirX=0, dirY=0;

joystick.addEventListener('pointerdown',e=>{
    dragging=true;
    startX=e.clientX;
    startY=e.clientY;
});
window.addEventListener('pointerup',e=>{
    dragging=false;
    knob.style.transform='translate(0px,0px)';
    dirX=0; dirY=0;
});
window.addEventListener('pointermove',e=>{
    if(!dragging) return;
    let dx=e.clientX-startX;
    let dy=e.clientY-startY;
    let maxDist=40;
    let distance=Math.min(Math.sqrt(dx*dx+dy*dy),maxDist);
    let angle=Math.atan2(dy,dx);
    let nx=Math.cos(angle)*distance;
    let ny=Math.sin(angle)*distance;
    knob.style.transform=`translate(${nx}px,${ny}px)`;
    dirX=dx/maxDist; dirY=dy/maxDist;
});

// Move Pac-Man based on joystick
function movePacman(){
    pacX+=dirX*2;
    pacY+=dirY*2;
    pacX=Math.max(radius,Math.min(canvas.width-radius,pacX));
    pacY=Math.max(radius,Math.min(canvas.height-radius,pacY));
    requestAnimationFrame(movePacman);
}
movePacman();
</script>
</body>
</html>
